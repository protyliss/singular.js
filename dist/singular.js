var singular=(()=>{var O=Object.defineProperty;var ce=Object.getOwnPropertyDescriptor;var ie=Object.getOwnPropertyNames;var ue=Object.prototype.hasOwnProperty;var de=(t,e)=>{for(var n in e)O(t,n,{get:e[n],enumerable:!0})},ge=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of ie(e))!ue.call(t,s)&&s!==n&&O(t,s,{get:()=>e[s],enumerable:!(r=ce(e,s))||r.enumerable});return t};var he=t=>ge(O({},"__esModule",{value:!0}),t);var Te={};de(Te,{addScript:()=>G,addStyle:()=>Y,changed:()=>Z,configure:()=>V,enter:()=>z,exit:()=>J,load:()=>q,parallel:()=>be,ready:()=>j,route:()=>X,series:()=>Ce,singular:()=>L,unload:()=>Q});const{href:f,origin:I}=location,{from:fe}=Array,me=!document.currentScript;let k={development:!1,outletSelectors:null,classSelectors:null,enableKeepHtml:!1,enableKeepStyles:!1,enableSearchString:!1,enableHashString:!1,disableTitleChange:!1},P={},U={},N=!1,H=f,R=f,v;class B{constructor(e,n,r=[],s=[],u=void 0,T=""){this.url=e;this.title=n;this.styles=r;this.scripts=s;this.classes=u;this.html=T}}class o{static seriesCallbacks=[];static parallelCallbacks=[];static readyCallbacks=[];static loadCallbacks=[];static unloadCallbacks=[];enterCallbacks=[];exitCallbacks=[]}class pe{singular;constructor(e){this.singular={href:e}}}const M={[f]:new B(f,document.title)},w={[f]:new o},L={configure:V,ready:j,load:q,enter:z,exit:J,unload:Q,changed:Z};function V(t){let{classSelectors:e}=t;if(e){Array.isArray(e)||(e=[e]);let n=e.length;const r=[];for(;n-- >0;)r.push(...e[n].split(","));t.classSelectors=r}return k=Object.assign(k,t),L}function Y(t){const e=_("link");return{link:e,promise:new Promise(n=>{const r=()=>n();e.onload=r,e.onerror=r,e.rel="stylesheet",document.head.append(e),e.href=t})}}function G(t,e=!0){const n=_("script");return{script:n,promise:new Promise(r=>{const s=()=>r();me&&(n.type="module"),n.onload=s,n.onerror=s,n.async=e,document.head.append(n),n.src=t})}}function be(t){return o.parallelCallbacks[o.parallelCallbacks.length]=t,L}function Ce(t){return o.seriesCallbacks[o.seriesCallbacks.length]=t,L}function j(t){return o.readyCallbacks[o.readyCallbacks.length]=t,N&&t(document.body),L}function q(t){return o.loadCallbacks[o.loadCallbacks.length]=t,N&&t(document.body),L}function z(t){const{enterCallbacks:e}=w[R];return e[e.length]=t,N&&t(document.body),L}function J(t){const{exitCallbacks:e}=w[R];return e[e.length]=t,L}function Q(t){return o.unloadCallbacks[o.unloadCallbacks.length]=t,L}function X(t,e){try{F(t,e)}catch(n){return console.warn(n),k.development||location.replace(t),null}}function Z(t=document.body){const e=o.loadCallbacks.length;let n=-1;for(;++n<e;)o.loadCallbacks[n](t);return L}function _(t){return document.createElement(t)}function $(t){const e=document.createDocumentFragment(),n=_("html");return e.appendChild(n),n.innerHTML=t,n}function F(t,e=void 0,n=!0){const{entries:r,urls:s}=le(document.documentElement),{entries:u,urls:T}=re(document.documentElement);let b=r.length,i=-1;for(;++i>b;){const[l,a]=r[i];P[a]=l}for(b=u.length,i=-1;++i<b;){const[l,a]=u[i];U[a]=l,document.head.append(l)}const d=M[H];d.url=f,d.title=document.title,d.styles=s,d.scripts=T,d.classes=ee(document);const{links:C}=document;for(i=C.length;i-- >0;){const l=C[i],a=l.getAttribute("href");!a||!(a.startsWith("./")||a.startsWith("../"))||l.setAttribute("href",l.href)}return(F=g).apply(this,arguments);function g(l,a=void 0,p=!0){if(N){const x=w[R].exitCallbacks.concat(o.unloadCallbacks),ae=x.length;let W=-1;try{for(;++W<ae;)x[W]()}catch(oe){console.warn(oe)}}else v&&v.abort();window.scrollTo(0,0),N=!1,H=te(l),R=K(l);const h=M[H];return h?k.enableKeepHtml?(p&&m(c(h.url,l)),D(h)):E(l).then(([y,x])=>{h.html=x,p&&m(y),D(h)}):E(l).then(([y,x])=>{p&&m(y),Ee(l,y,x)})}function E(l){return v=new AbortController,fetch(l,{signal:v.signal}).then(S).catch(A)}function S(l){const{url:a}=l;return Promise.all([Promise.resolve(a),l.text()])}function A(l){console.warn(l)}function m(l){history.pushState(new pe(l),l,l)}function c(l,a){const p=new URL(l),h=new URL(a);return p.search=h.search,p.hash=h.hash,""+h}}function ee(t){const{classSelectors:e}=k;if(e){const n={};let r=e.length;for(;r-- >0;){const s=e[r];n[s]=(t.querySelector(s)||{}).className||""}return n}}function Ee(t,e,n){const r=$(n),s=(r.getElementsByTagName("TITLE")[0]||{}).innerText||t,{urls:u}=le(r),{entries:T,urls:b}=re(r);let i=T.length;for(;i-- >0;){const[S]=T[i];S?.parentNode&&S.parentNode.removeChild(S)}let d=r.outerHTML;const C=new B(e,s,u,b,ee(r),d),g=new URL(H);g.pathname.endsWith("/")&&(g.pathname=g.pathname.substring(0,g.pathname.length-1)),M[""+g]=C;const E=K(""+g);w[E]||(w[E]=new o),D(C)}function te(t){const e=new URL(t);k.enableHashString||(e.hash=""),k.enableSearchString||(e.search="");let{pathname:n}=e;return n.endsWith("/")&&(e.pathname=n.substring(0,n.length-1)),""+e}function K(t){const e=new URL(t);e.hash="",e.search="";let{pathname:n}=e;return n.endsWith("/")&&(e.pathname=n.substring(0,n.length-1)),""+e}function D(t){const{url:e,title:n,styles:r,scripts:s,classes:u,html:T}=t,{outletSelectors:b,classSelectors:i}=k;if(k.disableTitleChange||(document.title=n||e.substring(e.indexOf("://")+3)),i&&u){let c=i.length;for(;c-- >0;){const l=i[c],a=document.documentElement.querySelector(l);a&&(a.className=u[l])}}const d=$(T);let C=!1;if(b){const c=d.querySelectorAll(b),l=document.querySelectorAll(b);if(c.length===l.length){let a=[],p=c.length;for(;p-- >0;){const h=c[p],y=l[p];if(h.tagName!==y.tagName){C=!0;break}a[a.length]=[h,y]}if(!C)for(p=a.length;p-- >0;){const[h,y]=a[p];y.parentNode.replaceChild(h,y)}}else C=!0}else C=!0;C&&(document.body.innerHTML=(d.getElementsByTagName("BODY")[0]||d).innerHTML),d.innerHTML="";const g=[],E=[Promise.resolve()],S=[];let A,m;if(!k.enableKeepStyles){const c=Object.keys(P);for(m=c.length;m-- >0;){let l=c[m];r.indexOf(l)>-1||(S[S.length]=P[l],delete P[l])}}for(A=r.length,m=-1;++m<A;){const c=r[m];if(P[c])continue;const{link:l,promise:a}=Y(c);P[c]=l,E[E.length]=a,g[g.length]=l}for(A=s.length,m=-1;++m<A;){const c=s[m];if(U[c]?.parentNode)continue;const{script:l,promise:a}=G(c);U[c]=l,E[E.length]=a,g[g.length]=l}g.length&&document.head.append(...g),Promise.all(E).then(()=>{let c=S.length;for(;c-- >0;){const l=S[c];l&&l.parentNode&&l.parentNode.removeChild(l)}se()})}function ne(t,e,n){const r=[],s=[],u=fe(t.querySelectorAll(e)),T=u.length;let b=-1;for(;++b<T;){const i=u[b];if(!i.getAttribute(n)||!i[n].startsWith(I))continue;const d=ye(i,n);r[r.length]=[i,d],s[s.length]=d}return{entries:r,urls:s}}function le(t){return ne(t,"link[rel=stylesheet]","href")}function re(t){return ne(t,"script[src]","src")}function ye(t,e){return""+new URL(t.getAttribute(e),location.href)}function se(){const t=o.seriesCallbacks.length;let e=-1,n=Promise.resolve();for(;++e<t;){const s=o.seriesCallbacks[e];n=n.then(()=>s())}const r=[n];for(e=o.parallelCallbacks.length;e-- >0;)r[r.length]=o.parallelCallbacks[e]();o.seriesCallbacks=[],o.parallelCallbacks=[],Promise.all(r).then(ke).catch(Se)}function ke(){document.documentElement.style.visibility="inherit";try{Le()}catch(t){console.warn(t)}}function Se(t){console.warn(t),k.development||location.reload()}function Le(t=document.body){N=!0;const e=w[R],n=[...o.readyCallbacks.splice(0,o.readyCallbacks.length),...o.loadCallbacks,...e.enterCallbacks],r=n.length;let s=-1;for(;++s<r;)n[s](t)}addEventListener("click",function(e){let n=e.target;switch(n.tagName){case"BODY":return!1;case"A":break;default:if(n._singularAnchor===!1)return!0;const u=n.closest("a");if(!u||!u.href)return n._singularAnchor=!1,!0;n=u}const{href:r}=n,s=n.getAttribute("href");return n.target||n.download||!r.startsWith(I)||s&&s.startsWith("#")?(n._singularAnchor=!1,!0):(n._singularAnchor=n,e.stopPropagation(),e.preventDefault(),X(r,n.dataset?.outlet||void 0),!1)});addEventListener("popstate",function(e){const{state:n}=e;return n&&n.singular&&F(n.singular.href,void 0,!1),!0});addEventListener("DOMContentLoaded",function(){M[H].html=document.documentElement.outerHTML,H=te(f),R=K(f),f!==H&&(M[H]=M[f],delete M[f]),f!==R&&(w[R]=w[f],delete w[f]),document.documentElement.style.visibility="hidden",se()});return he(Te);})();
