{"version":3,"names":[],"mappings":"","sources":["singular-ui.js"],"sourcesContent":["\"use strict\";\n/// <reference path=\"singular.ts\" />\n(function (singular) {\n    const ORIGIN_LENGTH = location.origin.length;\n    let ACTIVATED_LINKS = [];\n    singular.activeLink = function (selector) {\n        return singular\n            .load(() => {\n            activeLinks(selector);\n        })\n            .unload(inactiveLinks);\n    };\n    function activeLinks(selector) {\n        const containers = Array.from(document.querySelectorAll(selector));\n        let current = containers.length;\n        while (current-- > 0) {\n            activeLink(containers[current]);\n        }\n    }\n    function inactiveLinks() {\n        const anchors = ACTIVATED_LINKS;\n        let current = anchors.length;\n        while (current-- > 0) {\n            anchors[current].classList.remove('_active');\n        }\n        ACTIVATED_LINKS = [];\n    }\n    function activeLink(container) {\n        const currentPath = location.href.substring(ORIGIN_LENGTH);\n        const anchors = container.getElementsByTagName('A');\n        let current = anchors.length;\n        while (current-- > 0) {\n            let anchor = anchors[current];\n            if (currentPath !== anchor.href.substring(ORIGIN_LENGTH)) {\n                continue;\n            }\n            activate(anchor);\n            anchor.focus();\n            anchor.blur();\n            do {\n                let ul = anchor.closest('ul');\n                if (ul) {\n                    const li = ul.closest('li');\n                    if (li) {\n                        anchor = li.getElementsByTagName('A')[0];\n                        if (anchor) {\n                            activate(anchor);\n                            continue;\n                        }\n                    }\n                }\n                break;\n            } while (anchor);\n        }\n    }\n    function activate(anchor) {\n        ACTIVATED_LINKS[ACTIVATED_LINKS.length] = anchor;\n        anchor.classList.add('_active');\n    }\n})(window['singular']);\n"],"file":"singular-ui.js"}